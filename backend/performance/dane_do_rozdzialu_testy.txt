RAPORT DANYCH DO ROZDZIALU "TESTY"
Data pomiarow: 2026-02-16 21:17:13 +01:00

1) SRODOWISKO TESTOWE
- System uruchomieniowy: Docker Desktop + docker compose
- Backend: Django 4.2.7, Python 3.11.14
- Narzedzie wydajnosciowe: k6 v1.6.1
- Kontenery w trakcie testow: backend + postgres + redis (up/healthy)


2) TESTY FUNKCJONALNE BACKENDU (AUTOMATYCZNE)
Polecenie:
docker compose exec -T backend python manage.py test users.tests quiz_app.tests llm_integration.tests -v 1

Wynik:
- Found 41 test(s)
- Ran 41 tests in 10.380s
- Result: OK

Podzial testow wg typu:
- APITestCase (integracyjne API): 32
- SimpleTestCase (jednostkowe): 4
- TestCase (integracyjne z DB/logika): 4
- TransactionTestCase (migracje/smoke): 1
- Razem: 41


3) TESTY WYDAJNOSCIOWE k6 - SMOKE (POJEDYNCZA ITERACJA)

3.1 Read API smoke
Skrypt: backend/performance/k6/read_api_load.js
Polecenie:
docker run --rm -i --network quiz-llm-app_quiz_network -v "D:/quiz-llm-app/backend/performance/k6:/scripts" grafana/k6 run -e BASE_URL=http://backend:8000 -e PERF_EMAIL=perf.user@quizllm.local -e "PERF_PASSWORD=PerfUser#2026" --vus 1 --iterations 1 --summary-export /scripts/results_read_api_smoke.json /scripts/read_api_load.js

Wyniki:
- Checks: 7/7 (100%)
- HTTP failed rate: 0.00%
- HTTP req duration: avg 91.93 ms, p95 132.76 ms
- Read API duration: avg 81.28 ms, p95 93.83 ms
- Iteration duration: 1.056 s
- HTTP reqs: 6

3.2 Quiz flow smoke
Skrypt: backend/performance/k6/quiz_flow_load.js
Polecenie:
docker run --rm -i --network quiz-llm-app_quiz_network -v "D:/quiz-llm-app/backend/performance/k6:/scripts" grafana/k6 run -e BASE_URL=http://backend:8000 -e PERF_EMAIL=perf.user@quizllm.local -e "PERF_PASSWORD=PerfUser#2026" --vus 1 --iterations 1 --summary-export /scripts/results_quiz_flow_smoke.json /scripts/quiz_flow_load.js

Wyniki:
- Checks: 9/9 (100%)
- HTTP failed rate: 0.00%
- HTTP req duration: avg 1110.67 ms, p95 5050.08 ms
- Quiz start duration: 7149.60 ms
- Quiz get question duration: avg 59.86 ms, p95 88.84 ms
- Quiz submit answer duration: avg 127.00 ms, p95 148.77 ms
- Quiz end duration: 106.37 ms
- Iteration duration: 8682.13 ms
- HTTP reqs: 7

Komentarz:
- W smoke quiz-flow najwolniejszy etap to start quizu (generowanie pytan).


4) TESTY WYDAJNOSCIOWE k6 - OBCIAZENIE

4.1 Read API load
Skrypt: backend/performance/k6/read_api_load.js
Konfiguracja: 8 VUs, 30s
Polecenie:
docker run --rm -i --network quiz-llm-app_quiz_network -v "D:/quiz-llm-app/backend/performance/k6:/scripts" grafana/k6 run -e BASE_URL=http://backend:8000 -e PERF_EMAIL=perf.user@quizllm.local -e "PERF_PASSWORD=PerfUser#2026" -e VUS=8 -e DURATION=30s --summary-export /scripts/results_read_api_load_8vus_30s.json /scripts/read_api_load.js

Wyniki:
- Iterations: 240
- HTTP reqs: 1440
- Throughput: 46.99 req/s
- Checks: 1680/1680 (100%)
- HTTP failed rate: 0.00%
- HTTP req duration: avg 85.74 ms, p90 165.98 ms, p95 187.12 ms
- Read API duration: avg 67.83 ms, p90 87.75 ms, p95 95.90 ms
- Iteration duration: avg 1.01 s

Wniosek:
- Endpoints odczytowe zachowuja niska latencje przy 8 VU.

4.2 Quiz flow load
Skrypt: backend/performance/k6/quiz_flow_load.js
Konfiguracja: 1 VU, 30s
Polecenie:
docker run --rm -i --network quiz-llm-app_quiz_network -v "D:/quiz-llm-app/backend/performance/k6:/scripts" grafana/k6 run -e BASE_URL=http://backend:8000 -e PERF_EMAIL=perf.user@quizllm.local -e "PERF_PASSWORD=PerfUser#2026" -e VUS=1 -e DURATION=30s -e QUIZ_QUESTIONS=2 -e QUIZ_DIFFICULTY=medium -e QUIZ_ADAPTIVE=true --summary-export /scripts/results_quiz_flow_load_1vus_30s.json /scripts/quiz_flow_load.js

Wyniki:
- Iterations: 4
- HTTP reqs: 28
- Throughput: 0.91 req/s
- Checks: 36/36 (100%)
- HTTP failed rate: 0.00%
- HTTP req duration: avg 965.89 ms, p90 4732.95 ms, p95 5942.22 ms
- Quiz start duration: avg 6115.30 ms, p90 7811.75 ms, p95 8102.59 ms
- Quiz get question duration: avg 62.69 ms, p95 106.18 ms
- Quiz submit answer duration: avg 115.88 ms, p95 147.30 ms
- Quiz end duration: avg 127.87 ms, p95 160.47 ms
- Iteration duration: avg 7667.56 ms, p95 9679.03 ms

Wniosek:
- Najwiekszym bottleneckiem jest start quizu (czas generowania pytan).
- Etapy "get question", "submit answer" i "end quiz" maja stabilna i niska latencje.


5) SZYBKIE PODSUMOWANIE DO OPISU W PRACY
- Testy automatyczne backendu: 41/41 zaliczone (OK).
- Read API (8 VU, 30s): brak bledow HTTP, p95 = 187.12 ms.
- Quiz flow (1 VU, 30s): brak bledow HTTP, ale p95 calosci = 5942.22 ms przez wolny etap startu quizu (p95 = 8102.59 ms).
- Krytyczny obszar do dalszej optymalizacji: przygotowanie pierwszego zestawu pytan.


6) PLIKI Z SUROWYMI WYNIKAMI (DO ZALACZNIKA)
- backend/performance/k6/results_read_api_smoke.json
- backend/performance/k6/results_quiz_flow_smoke.json
- backend/performance/k6/results_read_api_load_8vus_30s.json
- backend/performance/k6/results_quiz_flow_load_1vus_30s.json

